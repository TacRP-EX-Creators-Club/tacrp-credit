
TacRPCredit.DefinedItems = {
    -- Pistol
        -- Elite
        ["tacrp_h_hardballer"]                  = 2000,
        ["tacrp_io_fiveseven"]                  = 100,
        ["tacrp_eo_p99"]                        = 100,
        ["tacrp_ex_hk45c"]                      = 100,
        -- Operator
        ["tacrp_io_af2011"]                     = 100,
        ["tacrp_p250"]                          = 100,
        ["tacrp_eo_jericho"]                    = 100,
        -- Security
        ["tacrp_eo_hushpup"]                    = 100,
        ["tacrp_gsr1911"]                       = 100,
        ["tacrp_ex_usp"]                        = 100,
        ["tacrp_p2000"]                         = 100,
        ["tacrp_sd_ppk"]                        = 100,
        ["tacrp_eo_p7"]                         = 100,
        ["tacrp_io_p226"]                       = 100,
        ["tacrp_eo_megastar"]                   = 100,
        -- Consumer
        ["tacrp_eo_browninghp"]                 = 100,
        ["tacrp_ex_glock"]                      = 100,
        ["tacrp_ex_m1911"]                      = 100,
        ["tacrp_eo_rhino20ds"]                  = 100,
        ["tacrp_ar_ar15pistol"]                 = 100,
        ["tacrp_vertec"]                        = 100,
        ["tacrp_pa_fort12"]                     = 100,
        -- Value
        ["tacrp_pa_makarov"]                    = 100,
        ["tacrp_io_t850"]                       = 100,
        ["tacrp_io_ruger"]                      = 100,
        ["tacrp_sd_tt33"]                       = 100,
        ["tacrp_eo_p210"]                       = 100,
        ["tacrp_io_ab10"]                       = 100,
    -- Magnum Pistol
        -- Elite
        ["tacrp_pa_python"]                     = 100,
        ["tacrp_io_m500"]                       = 100,
        ["tacrp_io_degala"]                     = 100,
        -- Operator
        ["tacrp_mr96"]                          = 100,
        ["tacrp_h_executioner"]                 = 100,
        ["tacrp_eo_m29"]                        = 100,
        -- Security
        ["tacrp_io_automag"]                    = 100,
        ["tacrp_pa_sw686"]                      = 100,
        ["tacrp_sd_contender"]                  = 100,
        -- Consumer
        ["tacrp_sd_1858"]                       = 100,
        -- Value
        ["tacrp_pa_obrez"]                      = 100,
    -- Akimbo
        -- Elite
        ["tacrp_sd_dual_degala"]                = 100,
        ["tacrp_h_dual_hardballers"]            = 100,
        ["tacrp_mtx_dual"]                      = 100,
        -- Operator
        ["tacrp_eo_dual_satana"]                = 100,
        ["tacrp_sd_dual_uzis"]                  = 100,
        ["tacrp_sd_dual_1911"]                  = 100,
        -- Security
        ["tacrp_sd_dual_usp"]                   = 100,
        ["tacrp_sd_dual_ppk"]                   = 100,
        -- Consumer
        ["tacrp_sd_dualies"]                    = 100,
    -- Machine Pistol
        -- Elite
        ["tacrp_pa_ots33"]                      = 100,
        ["tacrp_xd45"]                          = 100,
        ["tacrp_eo_93r"]                        = 100,
        -- Operator
        ["tacrp_sphinx"]                        = 100,
        ["tacrp_uzi"]                           = 100,
        -- Security
        ["tacrp_eo_mp5k"]                       = 100,
        ["tacrp_io_glock18"]                    = 100,
        ["tacrp_io_tec9"]                       = 100,
        ["tacrp_eo_calico"]                     = 100,
        -- Consumer
        ["tacrp_io_vp70"]                       = 100,
        ["tacrp_ex_mac10"]                      = 100,
        ["tacrp_skorpion"]                      = 100,
        ["tacrp_eo_m712"]                       = 100,
        -- Value
        ["tacrp_pa_klin"]                       = 100,
    -- Submachine Gun
        -- Elite
        ["tacrp_pdw"]                           = 100,
        ["tacrp_eo_mpx"]                        = 100,
        ["tacrp_superv"]                        = 100,
        -- Operator
        ["tacrp_mp7"]                           = 100,
        ["tacrp_ex_mp9"]                        = 100,
        ["tacrp_p90"]                           = 100,
        -- Security
        ["tacrp_eo_mp5sd"]                      = 100,
        ["tacrp_ex_ump45"]                      = 100,
        ["tacrp_sd_bizon"]                      = 100,
        ["tacrp_ak_ak74u"]                      = 100,
        ["tacrp_mp5"]                           = 100,
        ["tacrp_io_mx4"]                        = 100,
        -- Consumer
        ["tacrp_io_coltsmg"]                    = 100,
        ["tacrp_pa_uzi"]                        = 100,
        -- Value
        ["tacrp_sd_mp40"]                       = 100,
        ["tacrp_pa_madsen"]                     = 100,
        ["tacrp_sd_thompson"]                   = 100,
    -- Assault Rifle
        -- Elite
        ["tacrp_ak_an94"]                       = 100,
        ["tacrp_sg551"]                         = 100,
        ["tacrp_ar_vltor"]                      = 100,
        ["tacrp_sd_aac_hb"]                     = 100,
        ["tacrp_ak_ak12"]                       = 100,
        ["tacrp_ar_hk416"]                      = 100,
        -- Operator
        ["tacrp_ak_aek971"]                     = 100,
        ["tacrp_g36k"]                          = 100,
        ["tacrp_io_xm8car"]                     = 100,
        ["tacrp_sd_famas_g2"]                   = 100,
        ["tacrp_eo_scarl"]                      = 100,
        ["tacrp_eo_g36c"]                       = 100,
        ["tacrp_ar_m16a4"]                      = 100,
        ["tacrp_io_val"]                        = 100,
        ["tacrp_aug"]                           = 100,
        ["tacrp_eo_masada"]                     = 100,
        ["tacrp_sd_groza"]                      = 100,
        ["tacrp_m4"]                            = 100,
        ["tacrp_ex_m4a1"]                       = 100,
        ["tacrp_ex_ak47"]                       = 100,
        -- Security
        ["tacrp_eo_auga1"]                      = 100,
        ["tacrp_ak_rk95"]                       = 100,
        ["tacrp_io_fnc"]                        = 100,
        ["tacrp_eo_m733"]                       = 100,
        ["tacrp_ak_ak74"]                       = 100,
        ["tacrp_io_m16a2"]                      = 100,
        ["tacrp_amd65"]                         = 100,
        ["tacrp_eo_ar70"]                       = 100,
        ["tacrp_sd_famas"]                      = 100,
        ["tacrp_ar_lr300"]                      = 100,
        -- Consumer
        ["tacrp_k1a"]                           = 100,
        ["tacrp_ak47"]                          = 100,
        ["tacrp_eo_f2000"]                      = 100,
        -- Value
        ["tacrp_ar_m16a1"]                      = 100,
        ["tacrp_eo_l85"]                        = 100,
    -- Battle Rifle
        -- Elite
        ["tacrp_hk417"]                         = 100,
        ["tacrp_eo_mcx"]                        = 100,
        -- Operator
        ["tacrp_io_scarh"]                      = 100,
        -- Security
        ["tacrp_sd_g3"]                         = 100,
        ["tacrp_dsa58"]                         = 100,
        ["tacrp_eo_fal"]                        = 100,
        -- Consumer
        ["tacrp_eo_howa"]                       = 100,
        -- Value
        ["tacrp_eo_sg510"]                      = 100,
        ["tacrp_pa_svt40"]                      = 100,
    -- Machine Gun
        -- Elite
        ["tacrp_mg4"]                           = 100,
        -- Operator
        ["tacrp_sd_pkm"]                        = 100,
        ["tacrp_io_xm8lmg"]                     = 100,
        -- Security
        ["tacrp_pa_fnmag"]                      = 100,
        ["tacrp_io_rpk"]                        = 100,
        ["tacrp_eo_mg42"]                       = 100,
        -- Consumer
        ["tacrp_ak_galil_lmg"]                  = 100,
        ["tacrp_eo_m60"]                        = 100,
        -- Value
        ["tacrp_pa_lewis"]                      = 100,
    -- Shotgun
        -- Elite
        ["tacrp_ks23"]                          = 100,
        ["tacrp_m4star10"]                      = 100,
        ["tacrp_h_spas12"]                      = 100,
        ["tacrp_eo_hkcaws"]                     = 100,
        -- Operator
        ["tacrp_fp6"]                           = 100,
        ["tacrp_io_saiga"]                      = 100,
        ["tacrp_eo_m3"]                         = 100,
        -- Security
        ["tacrp_eo_spas15"]                     = 100,
        ["tacrp_io_870"]                        = 100,
        ["tacrp_h_jackhammer"]                  = 100,
        ["tacrp_tgs12"]                         = 100,
        -- Consumer
        ["tacrp_pa_toz34"]                      = 100,
        ["tacrp_pa_shorty"]                     = 100,
        ["tacrp_sd_db"]                         = 100,
        ["tacrp_sd_superx3"]                    = 100,
        ["tacrp_pa_ithaca"]                     = 100,
        ["tacrp_bekas"]                         = 100,
        -- Value
        ["tacrp_pa_toz106"]                     = 100,
    -- Sporter
        -- Elite
        ["tacrp_io_sg550r"]                     = 100,
        ["tacrp_eo_acr"]                        = 100,
        -- Operator
        ["tacrp_io_sl8"]                        = 100,
        ["tacrp_h_nitrorifle"]                  = 100,
        ["tacrp_sd_delisle"]                    = 100,
        ["tacrp_ar_gilboa"]                     = 100,
        -- Security
        ["tacrp_ar15"]                          = 100,
        ["tacrp_civ_g36k"]                      = 100,
        ["tacrp_io_usc"]                        = 100,
        ["tacrp_eo_scout"]                      = 100,
        ["tacrp_io_star15"]                     = 100,
        ["tacrp_civ_p90"]                       = 100,
        -- Consumer
        ["tacrp_civ_mp5"]                       = 100,
        ["tacrp_io_k98_varmint"]                = 100,
        ["tacrp_sd_vz58"]                       = 100,
        ["tacrp_io_cx4"]                        = 100,
        ["tacrp_m1"]                            = 100,
        ["tacrp_eo_izzyfal"]                    = 100,
        -- Value
        ["tacrp_pa_hipoint"]                    = 100,
        ["tacrp_eo_winchester"]                 = 100,
        ["tacrp_sd_1022"]                       = 100,
        ["tacrp_sd_m1carbine"]                  = 100,
    -- Launcher
        -- Special
        ["tacrp_rpg7"]                          = 100,
        ["tacrp_h_xm25"]                        = 100,
        ["tacrp_civ_m320"]                      = 100,
        ["tacrp_m320"]                          = 100,
        ["tacrp_h_smaw"]                        = 100,
        ["tacrp_io_chinalake"]                  = 100,
        ["tacrp_pa_m79"]                        = 100,
        ["tacrp_pa_m202"]                       = 100,
        ["tacrp_ex_stinger"]                    = 100,
    -- Marksman Rifle
        -- Elite
        ["tacrp_ar_sr25"]                       = 100,
        ["tacrp_io_sg550"]                      = 100,
        -- Operator
        ["tacrp_io_vss"]                        = 100,
        ["tacrp_io_m14"]                        = 100,
        ["tacrp_eo_psg1"]                       = 100,
        -- Security
        ["tacrp_m14"]                           = 100,
        -- Consumer
        ["tacrp_ak_galil_sniper"]               = 100,
        -- Value
        ["tacrp_io_k98"]                        = 100,
    -- Sniper Rifle
        -- Elite
        ["tacrp_sd_wa2000"]                     = 100,
        ["tacrp_h_intervention"]                = 100,
        ["tacrp_as50"]                          = 100,
        -- Operator
        ["tacrp_ex_hecate"]                     = 100,
        ["tacrp_pa_vykhlop"]                    = 100,
        ["tacrp_io_trg42"]                      = 100,
        -- Security
        ["tacrp_uratio"]                        = 100,
        -- Consumer
        ["tacrp_spr"]                           = 100,
        ["tacrp_ak_svd"]                        = 100,
        ["tacrp_pa_sako85"]                     = 100,
    -- Special Weapon
        -- Special
        ["tacrp_h_jdj"]                         = 100,
        ["tacrp_sd_gyrojet"]                    = 100,
    -- Bladed Melee
        -- Special
        ["tacrp_m_glock"]                       = 100,
        ["tacrp_m_kukri"]                       = 100,
        ["tacrp_m_css"]                         = 100,
        ["tacrp_m_gerber"]                      = 100,
        ["tacrp_m_heathawk"]                    = 100,
        ["tacrp_knife"]                         = 100,
        ["tacrp_m_harpoon"]                     = 100,
        ["tacrp_m_bamaslama"]                   = 100,
        ["tacrp_m_boina"]                       = 100,
        ["tacrp_knife2"]                        = 100,
        ["tacrp_m_fasthawk"]                    = 100,
        ["tacrp_m_kitchen"]                     = 100,
        ["tacrp_m_bayonet"]                     = 100,
        ["tacrp_m_tracker"]                     = 100,
        ["tacrp_m_machete"]                     = 100,
        ["tacrp_m_knife3"]                      = 100,
        ["tacrp_m_cleaver"]                     = 100,
        ["tacrp_m_rambo"]                       = 100,
        ["tacrp_m_incorp"]                      = 100,
    -- Blunt Melee
        -- Special
        ["tacrp_m_tonfa"]                       = 100,
        ["tacrp_m_shovel"]                      = 100,
        ["tacrp_m_crowbar"]                     = 100,
        ["tacrp_m_hamma"]                       = 100,
        ["tacrp_m_wrench"]                      = 100,
        ["tacrp_m_wiimote"]                     = 100,
        ["tacrp_m_bat"]                         = 100,
        ["tacrp_m_pan"]                         = 100,
        ["tacrp_m_pipe"]                        = 100,
    -- Equipment
        -- Special
        ["tacrp_c4_detonator"]                  = 100,
        ["tacrp_riot_shield"]                   = 100,
        ["tacrp_medkit"]                        = 100,
    -- Throwable
        -- Special
        ["tacrp_nade_frag"]                     = 100,
        ["tacrp_nade_charge"]                   = 100,
        ["tacrp_nade_thermite"]                 = 100,
        ["tacrp_nade_heal"]                     = 100,
        ["tacrp_nade_smoke"]                    = 100,
        ["tacrp_nade_flashbang"]                = 100,
        ["tacrp_nade_gas"]                      = 100,
}

TacRPCredit.Cats = TacRPCredit.Cats or {}

function TacRPCredit.Regen()
	for class, cash in pairs( TacRPCredit.DefinedItems ) do
		-- Call this after InitPostEntity
		-- GetStored won't get the grenades SubCatTier and Type
		if class == "tacrp_base" or class == "tacrp_base_knife" or class == "tacrp_base_nade" then continue end
		local wt = weapons.Get(class)

		do
			local sct = wt.SubCatType or "9IDK"
			if !TacRPCredit.Cats[ sct ] then
				TacRPCredit.Cats[ sct ] = {}
			end
			local t = TacRPCredit.Cats[ sct ]
		end

		do
			local sct = wt.SubCatType or "9IDK"
			local scTier = wt.SubCatTier or "9TIERLESS"
			if !TacRPCredit.Cats[sct][ scTier ] then
				TacRPCredit.Cats[sct][ scTier ] = {}
			end
			local t = TacRPCredit.Cats[sct][ scTier ]
			table.insert( t, class )
		end
	end
end


InitPostEntityIsDone = InitPostEntityIsDone or false

if InitPostEntityIsDone then
	TacRPCredit.Regen()
end

hook.Add( "InitPostEntity", "TacRPCredit_InitPostEntity", function()
	TacRPCredit.Regen()
	InitPostEntityIsDone = true
end)

function TacRPCredit.List()
	MsgN("weh = {")
	for i, v in SortedPairs( TacRPCredit.Cats ) do
		--MsgC( color_white, (i:Right(-2)).."\n" )
		MsgN( "    -- " .. (i:Right(-2)) )
		for a, b in SortedPairs( v ) do
			local te = a:Right(-2)
			--MsgC( rtc[te], "\t"..(te).."\n" )
			MsgN( "        -- "..(te) )

			local moneysorter = {}
			for i, v in ipairs( b ) do
				moneysorter[v] = TacRPCredit.DefinedItems[v]
			end

			for me, ow in SortedPairsByValue( moneysorter, true ) do
				local message = "        " .. "[\""..me.."\"]" .. "                                    "
				message = message:Left( 8+40 )
				message = message .. "= " .. ow .. ","
				MsgN( message )
			end
		end
	end
	MsgN("}")
end
concommand.Add("tcred_listweps", function()
	TacRPCredit.List()
end)
concommand.Add("tcred_regen", function()
	TacRPCredit.Regen()
end)
if CLIENT then
    concommand.Add("tcred_regen_cl", function()
        TacRPCredit.Regen()
    end)
end